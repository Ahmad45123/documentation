---
title: Ingestion Mechanisms
kind: documentation
aliases:
    - /tracing/ingestion/ingestion_mechanisms
description: "What are the mechanisms in the tracer and the agent controlling the trace ingestion"
---

Multiple mechanisms are responsible for choosing if spans generated by your applications are sent to Datadog. The logic behind these mechanisms lie in the tracing libraries and/or in the trace agent. Depending on the configuration, all or parts the traffic generated by instrumented services are ingested.

To each span ingested is attached a unique **ingestion reason**, referring to one of the mechanisms described here. Usage metrics `datadog.estimated_usage.apm.ingested_bytes` and `datadog.estimated_usage.apm.ingested_spans` are tagged by `ingestion_reason`

## Default mechanism

By default,

### In the agent

### In the tracer

#### User-defined rules

## Manual

## Single spans (analytics enabled)

### In the tracer

### In the agent

## Error and rare traces

### Error traces

### Rare traces
